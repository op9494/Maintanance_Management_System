{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/home/op-pro/Desktop/Finalyear project/Admin/src/screens/ServiceConfermation.js\";\nimport * as firebase from 'firebase';\nimport React, { Component, useState } from 'react';\nimport Button from \"../components/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { TextBase } from \"react-native-web/dist/index\";\nimport { Userloname } from \"./AuthLoadingScreen\";\nimport { Userlo } from \"./AuthLoadingScreen\";\nimport { ListItem, Overlay, Card } from 'react-native-elements';\nimport Background from \"../components/Background\";\nimport Toast from 'react-native-tiny-toast';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",\n  authDomain: \"complaint-a4db2.firebaseapp.com\",\n  databaseURL: \"https://complaint-a4db2.firebaseio.com\",\n  projectId: \"complaint-a4db2\",\n  storageBucket: \"complaint-a4db2.appspot.com\",\n  messagingSenderId: \"966569668349\",\n  appId: \"1:966569668349:web:24e2908bf9f3b5ffd6d894\",\n  measurementId: \"G-VQXSNP4LCQ\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nfunction onconfirm(user_id, Form_Id) {\n  var date = new Date().getDate();\n  var month = new Date().getMonth() + 1;\n  var year = new Date().getFullYear();\n  var hours = new Date().getHours();\n  var min = new Date().getMinutes();\n  var sec = new Date().getSeconds();\n  cdate = date + '/' + month + '/' + year + ' ' + hours + ':' + min + ':' + sec;\n  console.log(cdate);\n  console.log(\"reolve issue is addeding in list\");\n  firebase.database().ref('Resolved_issues/' + user_id + '/' + Form_Id + '/').set({\n    DateTime: cdate\n  });\n  console.log(\"reolve issue is addeded in list\");\n  console.log(\" issue is updated in list\");\n  firebase.database().ref('Memberjobs/' + user_id).update({\n    Job: \"NULL\"\n  });\n  console.log(\"display nameE:\" + Userloname());\n  firebase.database().ref('Form/' + Form_Id).update({\n    ZResolved_By: user_id,\n    ZResolved_ByName: Userloname(),\n    Status: \"True\"\n  });\n  Toast.showSuccess('Status Updated updated');\n  console.log(\"Sucessful\");\n}\n\nfunction onFindstruentPressed(sysid) {\n  g = firebase.database().ref('Instruments/' + sysid).on('value', function (snapshot) {\n    var data = snapshot.val();\n    var items = Object.values(data);\n    console.log(\"items\" + items);\n    Alert.alert('Details of an Instruments :' + sysid, 'Bulding Id           :' + items[0] + '\\n' + 'Cabine Number        :' + items[1] + '\\n' + 'Instrument Catagory  :' + items[2] + '\\n' + 'Team Catagory        :' + items[3] + '\\n' + 'Unique Id            :' + items[4], [{\n      text: 'Cancel',\n      onPress: function onPress() {\n        return console.log('Cancel Pressed');\n      },\n      style: 'cancel'\n    }], {\n      cancelable: false\n    });\n  });\n}\n\nfunction onresolvedPressed(id) {\n  var uid = Userlo();\n  Alert.alert('Acknowledge', 'Conform that you have resolved the Issue rised by the user', [{\n    text: 'Cancel',\n    onPress: function onPress() {\n      return console.log('Cancel Pressed');\n    },\n    style: 'cancel'\n  }, {\n    text: 'Confirm',\n    onPress: function onPress() {\n      return onconfirm(uid, id);\n    },\n    style: 'cancel'\n  }], {\n    cancelable: false\n  });\n}\n\nvar ServiceConfermation = function (_Component) {\n  _inherits(ServiceConfermation, _Component);\n\n  function ServiceConfermation() {\n    var _this;\n\n    _classCallCheck(this, ServiceConfermation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServiceConfermation).call(this));\n    _this.state = {\n      data: []\n    };\n    return _this;\n  }\n\n  _createClass(ServiceConfermation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var uid = Userlo();\n      firebase.database().ref('Memberjobs/' + uid).once('value', function (snapshot) {\n        var data = snapshot.val();\n        console.log(\"\");\n        console.log(\"Job:\", data.Job);\n        var id = data.Job;\n\n        if (id == \"NULL\") {\n          Alert.alert(\"Message\", \"No Undertaken any Issues\\n please select the job from issues list menu\");\n        } else {\n          firebase.database().ref('Form/' + id).on('value', function (snapshot) {\n            var data1 = snapshot.val();\n            var items1 = Object.values(data1);\n            console.log(\"df\" + items1);\n\n            for (var i = 0; i < items1.length; i++) {\n              _this2.setState({\n                data: [].concat(_toConsumableArray(_this2.state.data), [items1[i]])\n              });\n            }\n\n            console.log(data1);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Background, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        }\n      }, this.state.data.length > 0 ? React.createElement(Card, {\n        title: 'FORM ID: ' + this.state.data[3],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        }\n      }, \"Mail_Id     :\", this.state.data[4]), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        }\n      }, \"Catagory    :\", this.state.data[0]), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        }\n      }, \"System_Id   :\", this.state.data[6]), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        }\n      }, \"Description :\"), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        }\n      }, \"                 \", this.state.data[2]), React.createElement(Button, {\n        mode: \"contained\",\n        onPress: function onPress() {\n          return onFindstruentPressed(_this3.state.data[6]);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        }\n      }, \"FIND INSTRUMENT\"), React.createElement(Button, {\n        mode: \"contained\",\n        onPress: function onPress() {\n          return onresolvedPressed(_this3.state.data[3]);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        }\n      }, \"Resolved\")) : Toast.showSuccess('no datafound'));\n    }\n  }]);\n\n  return ServiceConfermation;\n}(Component);\n\nexport { ServiceConfermation as default };\n;\nvar styles = StyleSheet.create({\n  container: {},\n  nodata: {\n    fontSize: 20,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"black\",\n    padding: 130\n  }\n});","map":{"version":3,"sources":["/home/op-pro/Desktop/Finalyear project/Admin/src/screens/ServiceConfermation.js"],"names":["firebase","React","Component","useState","Button","TextBase","Userloname","Userlo","ListItem","Overlay","Card","Background","Toast","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","onconfirm","user_id","Form_Id","date","Date","getDate","month","getMonth","year","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","cdate","console","log","database","ref","set","DateTime","update","Job","ZResolved_By","ZResolved_ByName","Status","showSuccess","onFindstruentPressed","sysid","g","on","snapshot","data","val","items","Object","values","Alert","alert","text","onPress","style","cancelable","onresolvedPressed","id","uid","ServiceConfermation","state","once","data1","items1","i","setState","styles","container","StyleSheet","create","nodata","fontSize","textAlign","fontWeight","color","padding"],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\nimport React, { Component,useState } from 'react';\nimport Button from \"../components/Button\";\nimport { TouchableOpacity,Alert, StyleSheet, Text, View,FlatList,Platform,ScrollView, TextBase} from \"react-native\";\n// Optionally import the services that you want to use\n//import \"firebase/auth\";\n//import \"firebase/database\";\n//import \"firebase/firestore\";\n//import \"firebase/functions\";\n//import \"firebase/storage\";\nimport {Userloname} from \"./AuthLoadingScreen\";\nimport {Userlo} from \"./AuthLoadingScreen\";\nimport { ListItem,Overlay, Card } from 'react-native-elements'\nimport Background from '../components/Background';\nimport Toast from 'react-native-tiny-toast';\n\n\n// Initialize Firebase\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",\n    authDomain: \"complaint-a4db2.firebaseapp.com\",\n    databaseURL: \"https://complaint-a4db2.firebaseio.com\",\n    projectId: \"complaint-a4db2\",\n    storageBucket: \"complaint-a4db2.appspot.com\",\n    messagingSenderId: \"966569668349\",\n    appId: \"1:966569668349:web:24e2908bf9f3b5ffd6d894\",\n    measurementId: \"G-VQXSNP4LCQ\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\n \nfunction onconfirm(user_id,Form_Id){\n  var date = new Date().getDate(); //Current Date\n    var month = new Date().getMonth() + 1; //Current Month\n    var year = new Date().getFullYear(); //Current Year\n    var hours = new Date().getHours(); //Current Hours\n    var min = new Date().getMinutes(); //Current Minutes\n    var sec = new Date().getSeconds(); //Current Seconds\n    cdate=date +'/' + month + '/' + year + ' ' + hours + ':' + min + ':' + sec\n    console.log(cdate)\n  console.log(\"reolve issue is addeding in list\")\n  firebase.database().ref('Resolved_issues/'+user_id+'/'+Form_Id+'/').set({\n    DateTime:cdate\n  });\n  console.log(\"reolve issue is addeded in list\")\n  console.log(\" issue is updated in list\")\n  firebase.database().ref('Memberjobs/'+user_id).update({\n    Job:\"NULL\",\n  });\n\n  console.log(\"display nameE:\"+Userloname());\n  \n  firebase.database().ref('Form/'+Form_Id).update({\n    ZResolved_By:user_id,\n    ZResolved_ByName:Userloname(),\n    Status: \"True\"\n  });\n  Toast.showSuccess('Status Updated updated')  \n  console.log(\"Sucessful\")\n\n}\n\n\nfunction onFindstruentPressed(sysid){\n  g=firebase.database().ref('Instruments/'+sysid).on('value', (snapshot)=> {\n    let data = snapshot.val();\n    var items = Object.values(data);\n    console.log(\"items\"+items)\n    Alert.alert(\n      'Details of an Instruments :'+sysid,\n      'Bulding Id           :'+items[0]+'\\n'+\n      'Cabine Number        :'+items[1]+'\\n'+\n      'Instrument Catagory  :'+items[2]+'\\n'+\n      'Team Catagory        :'+items[3]+'\\n'+\n      'Unique Id            :'+items[4],      \n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        \n      ],\n      { cancelable: false }\n    );\n  }); \n\n}\nfunction onresolvedPressed(id){\n  \n  const uid=Userlo()\n    Alert.alert(\n      'Acknowledge',\n      'Conform that you have resolved the Issue rised by the user',\n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        { text: 'Confirm', onPress: () => onconfirm(uid,id),style: 'cancel'},        \n      ],\n      { cancelable: false }\n    );\n}\nexport default class ServiceConfermation extends Component {  \n  constructor(){\n    super();\n    this.state={\n\n      data:[]\n    }\n    \n  }\n  \n  componentDidMount(){\n    const uid=Userlo()\n    firebase.database().ref('Memberjobs/'+uid).once('value', (snapshot)=> {\n      let data = snapshot.val();\n      console.log(\"\")\n  //   var items = JSON.parse(data);\n      console.log(\"Job:\",data.Job);\n      const id=data.Job\n      if (id==\"NULL\"){\n        Alert.alert(\n          \"Message\",\n          \"No Undertaken any Issues\\n please select the job from issues list menu\")\n      }\n      else{\n        firebase.database().ref('Form/'+id).on('value', (snapshot)=> {\n          let data1 = snapshot.val();\n          var items1 = Object.values(data1);\n          console.log(\"df\"+items1)\n         for(let i=0;i<items1.length;i++){\n            this.setState({\n              data:[...this.state.data,items1[i]],\n            })\n          }\n          console.log(data1);\n        }); \n      }\n    });\n  }\n  \n  render(){\n    \n    return (\n\n    <Background  style={styles.container}>\n    { \n      this.state.data.length > 0 ?\n    <Card title={'FORM ID: '+this.state.data[3]}>\n    <Text>Mail_Id     :{this.state.data[4]}</Text>\n<Text>Catagory    :{this.state.data[0]}</Text>\n<Text>System_Id   :{this.state.data[6]}</Text>\n<Text>Description :</Text>\n<Text>                 {this.state.data[2]}</Text>\n<Button mode=\"contained\" onPress={()=>onFindstruentPressed(this.state.data[6])}>\n        FIND INSTRUMENT\n      </Button>\n<Button mode=\"contained\" onPress={()=>onresolvedPressed(this.state.data[3])}>\n        Resolved\n      </Button>\n    \n    </Card> :\n    Toast.showSuccess('no datafound')  \n\n    } \n  </Background>\n  );\n  } \n};\nconst styles = StyleSheet.create({\n  container: {\n  },\n  nodata:{\n    fontSize:20,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"black\",\n    padding: 130\n\n  }\n});"]},"metadata":{},"sourceType":"module"}