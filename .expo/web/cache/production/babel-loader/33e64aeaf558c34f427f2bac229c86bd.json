{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{memo,useState}from\"react\";import{Header}from'react-native-elements';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Background from\"../components/Background\";import Logo from\"../components/Logo\";import Button from\"../components/Button\";import TextInput from\"../components/TextInput\";import BackButton from\"../components/BackButton\";import{theme}from\"../core/theme\";import{emailValidator,passwordValidator,nameValidator}from\"../core/utils\";import{signInUser}from\"../api/auth-api\";import Toast from\"../components/Toast\";var RegisterScreen=function RegisterScreen(_ref){var navigation=_ref.navigation;var _useState=useState({value:\"\",error:\"\"}),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState({value:\"\",error:\"\"}),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState({value:\"\",error:\"\"}),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _onSignUpPressed=function _onSignUpPressed(){var nameError,emailError,passwordError,response;return _regeneratorRuntime.async(function _onSignUpPressed$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!loading){_context.next=2;break;}return _context.abrupt(\"return\");case 2:nameError=nameValidator(name.value);emailError=emailValidator(email.value);passwordError=passwordValidator(password.value);if(!(emailError||passwordError||nameError)){_context.next=10;break;}setName(_objectSpread({},name,{error:nameError}));setEmail(_objectSpread({},email,{error:emailError}));setPassword(_objectSpread({},password,{error:passwordError}));return _context.abrupt(\"return\");case 10:setLoading(true);_context.next=13;return _regeneratorRuntime.awrap(signInUser({name:name.value,email:email.value,password:password.value}));case 13:response=_context.sent;if(response.error){setError(response.error);}setLoading(false);case 16:case\"end\":return _context.stop();}}});};return React.createElement(Background,null,React.createElement(Header,{backgroundColor:\"#F6820D\",leftComponent:React.createElement(BackButton,{goBack:function goBack(){return navigation.navigate(\"AdminDashboard\");}}),centerComponent:{text:'Register service member'}}),React.createElement(TextInput,{label:\"Name\",returnKeyType:\"next\",value:name.value,onChangeText:function onChangeText(text){return setName({value:text,error:\"\"});},error:!!name.error,errorText:name.error}),React.createElement(TextInput,{label:\"Email\",returnKeyType:\"next\",value:email.value,onChangeText:function onChangeText(text){return setEmail({value:text,error:\"\"});},error:!!email.error,errorText:email.error,autoCapitalize:\"none\",autoCompleteType:\"email\",textContentType:\"emailAddress\",keyboardType:\"email-address\"}),React.createElement(TextInput,{label:\"Password\",returnKeyType:\"done\",value:password.value,onChangeText:function onChangeText(text){return setPassword({value:text,error:\"\"});},error:!!password.error,errorText:password.error,secureTextEntry:true,autoCapitalize:\"none\"}),React.createElement(Button,{loading:loading,mode:\"contained\",onPress:_onSignUpPressed,style:styles.button},\"ADD MEMBER\"),React.createElement(Toast,{message:error,onDismiss:function onDismiss(){return setError(\"\");}}));};var styles=StyleSheet.create({label:{color:theme.colors.secondary},button:{marginTop:24},row:{flexDirection:\"row\",marginTop:4},link:{fontWeight:\"bold\",color:theme.colors.primary}});export default memo(RegisterScreen);","map":{"version":3,"sources":["/home/op-pro/Desktop/Finalyear project/Admin/src/screens/RegisterScreen.js"],"names":["React","memo","useState","Header","Background","Logo","Button","TextInput","BackButton","theme","emailValidator","passwordValidator","nameValidator","signInUser","Toast","RegisterScreen","navigation","value","error","name","setName","email","setEmail","password","setPassword","loading","setLoading","setError","_onSignUpPressed","nameError","emailError","passwordError","response","navigate","text","styles","button","StyleSheet","create","label","color","colors","secondary","marginTop","row","flexDirection","link","fontWeight","primary"],"mappings":"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","sourcesContent":["import React, { memo, useState } from \"react\";\nimport { Header } from 'react-native-elements'\nimport { View, Text, StyleSheet, TouchableOpacity } from \"react-native\";\nimport Background from \"../components/Background\";\nimport Logo from \"../components/Logo\";\nimport Button from \"../components/Button\";\nimport TextInput from \"../components/TextInput\";\nimport BackButton from \"../components/BackButton\";\nimport { theme } from \"../core/theme\";\nimport {\n  emailValidator,\n  passwordValidator,\n  nameValidator\n} from \"../core/utils\";\nimport { signInUser } from \"../api/auth-api\";\nimport Toast from \"../components/Toast\";\n\nconst RegisterScreen = ({ navigation }) => {\n  const [name, setName] = useState({ value: \"\", error: \"\" });\n  const [email, setEmail] = useState({ value: \"\", error: \"\" });\n  const [password, setPassword] = useState({ value: \"\", error: \"\" });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const _onSignUpPressed = async () => {\n    if (loading) return;\n\n    const nameError = nameValidator(name.value);\n    const emailError = emailValidator(email.value);\n    const passwordError = passwordValidator(password.value);\n\n    if (emailError || passwordError || nameError) {\n      setName({ ...name, error: nameError });\n      setEmail({ ...email, error: emailError });\n      setPassword({ ...password, error: passwordError });\n      return;\n    }\n\n    setLoading(true);\n\n    const response = await signInUser({\n      name: name.value,\n      email: email.value,\n      password: password.value\n    });\n\n    if (response.error) {\n      setError(response.error);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Background>\n       <Header\n  backgroundColor='#F6820D'\n  leftComponent={<BackButton goBack={() => navigation.navigate(\"AdminDashboard\")} />}\n  centerComponent={{text:'Register service member'}}/>\n      <TextInput\n        label=\"Name\"\n        returnKeyType=\"next\"\n        value={name.value}\n        onChangeText={text => setName({ value: text, error: \"\" })}\n        error={!!name.error}\n        errorText={name.error}\n      />\n      <TextInput\n        label=\"Email\"\n        returnKeyType=\"next\"\n        value={email.value}\n        onChangeText={text => setEmail({ value: text, error: \"\" })}\n        error={!!email.error}\n        errorText={email.error}\n        autoCapitalize=\"none\"\n        autoCompleteType=\"email\"\n        textContentType=\"emailAddress\"\n        keyboardType=\"email-address\"\n      />\n      <TextInput\n        label=\"Password\"\n        returnKeyType=\"done\"\n        value={password.value}\n        onChangeText={text => setPassword({ value: text, error: \"\" })}\n        error={!!password.error}\n        errorText={password.error}\n        secureTextEntry\n        autoCapitalize=\"none\"\n      />\n\n      <Button\n        loading={loading}\n        mode=\"contained\"\n        onPress={_onSignUpPressed}\n        style={styles.button}\n      >\n        ADD MEMBER\n      </Button>\n\n      <Toast message={error} onDismiss={() => setError(\"\")} />\n  \n      </Background>\n \n  );\n};\n\nconst styles = StyleSheet.create({\n    label: {\n      color: theme.colors.secondary\n    },\n\n  button: {\n    marginTop: 24\n  },\n  row: {\n    flexDirection: \"row\",\n    marginTop: 4\n  },\n  link: {\n    fontWeight: \"bold\",\n    color: theme.colors.primary\n  }\n});\n\nexport default memo(RegisterScreen);\n"]},"metadata":{},"sourceType":"module"}