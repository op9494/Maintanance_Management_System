{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as firebase from'firebase';import React,{Component,useState}from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Platform from\"react-native-web/dist/exports/Platform\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{TextBase}from\"react-native-web/dist/index\";import*as Permissions from'expo-permissions';import{Card,Badge}from'react-native-elements';import Background from\"../components/Background\";import{Header}from'react-native-elements';import RNPickerSelect from'react-native-picker-select';import BackButton from\"../components/BackButton\";import Button from\"../components/Button\";import TextInput from\"../components/TextInput\";import Toast from\"../components/Toast\";import{emailValidator}from\"../core/utils\";import FIREBASE_CONFIG from\"../core/config\";var firebaseConfig={apiKey:\"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",authDomain:\"complaint-a4db2.firebaseapp.com\",databaseURL:\"https://complaint-a4db2.firebaseio.com\",projectId:\"complaint-a4db2\",storageBucket:\"complaint-a4db2.appspot.com\",messagingSenderId:\"966569668349\",appId:\"1:966569668349:web:24e2908bf9f3b5ffd6d894\",measurementId:\"G-VQXSNP4LCQ\"};if(!firebase.apps.length){firebase.initializeApp(firebaseConfig);}function _onSubmmitPressed(Id){console.log(\"sumbmit pressed\");var emailError=emailValidator(email.value);if(emailError){setEmail(_objectSpread({},email,{error:emailError}));return;}else{var date=new Date().getDate();var month=new Date().getMonth()+1;var year=new Date().getFullYear();var hours=new Date().getHours();var min=new Date().getMinutes();var sec=new Date().getSeconds();DOS=date+'/'+month+'/'+year+' '+hours+':'+min+':'+sec;console.log(\"Subbmited Values1: \",SystemID.value,Catagory.value,email.value,Description.value,Id);alert(\"form is successfully submitted\");}Catagory:Catagory.value;DOS:DOS;Description:Description;Id:Id;Mail_Id:email.value;Status:\"False\";System_Id:SystemID.value;};function Counter1(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({value:\"\"}),_useState4=_slicedToArray(_useState3,2),SystemID=_useState4[0],setSystemId=_useState4[1];var _useState5=useState({value:\"\"}),_useState6=_slicedToArray(_useState5,2),Catagory=_useState6[0],setCatagory=_useState6[1];var _useState7=useState({value:\"\"}),_useState8=_slicedToArray(_useState7,2),PrimaryId=_useState8[0],setPrimaryId=_useState8[1];var _useState9=useState({value:\"\",error:\"\"}),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState({value:\"\"}),_useState12=_slicedToArray(_useState11,2),Description=_useState12[0],setDescription=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),scanned=_useState16[0],setScanned=_useState16[1];}var handleBarCodeScanned=function handleBarCodeScanned(_ref){var type=_ref.type,data=_ref.data;setScanned(true);setSystemId({value:data});};function getCameraAsync(){var _await$Permissions$as,status,permissions;return _regeneratorRuntime.async(function getCameraAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));case 2:_await$Permissions$as=_context.sent;status=_await$Permissions$as.status;permissions=_await$Permissions$as.permissions;if(!(status==='granted')){_context.next=9;break;}console.log(\"permission granted\");_context.next=10;break;case 9:throw new Error('Camera permission not granted');case 10:case\"end\":return _context.stop();}}});}var Formreg=function(_Component){_inherits(Formreg,_Component);function Formreg(){var _this;_classCallCheck(this,Formreg);_this=_possibleConstructorReturn(this,_getPrototypeOf(Formreg).call(this));_this.state={data:[],priority:[]};Counter1();return _this;}_createClass(Formreg,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;firebase.database().ref('IssueInfo/').once('value',function(snapshot){var data=snapshot.val();var items=Object.values(data);_this2.setState({data:[].concat(_toConsumableArray(_this2.state.data),[{Id:items}])});console.log(\"sucess: \",_this2.state.data,_this2.state.data.length);console.log(\"sucess1: \",_this2.state.data[0].Id[0]);console.log(\"data stored\");});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(Background,null,React.createElement(ScrollView,null,React.createElement(Text,null,\"Scan the system Qr code\"),React.createElement(View,{style:styles.container},React.createElement(BarCodeScanner,{onBarCodeScanned:scanned?undefined:handleBarCodeScanned,style:StyleSheet.absoluteFillObject}),scanned&&React.createElement(Button,{title:'Scan Again',onPress:function onPress(){return setScanned(false);}})),React.createElement(View,null,React.createElement(TextInput,{label:\"Scanned Code\",value:SystemID.value}),React.createElement(TextInput,{label:\"form Code\",value:PrimaryId.value}),React.createElement(TextInput,{label:\"Email\",returnKeyType:\"next\",value:email.value,onChangeText:function onChangeText(text){return setEmail({value:text,error:\"\"});},error:!!email.error,errorText:email.error,autoCapitalize:\"none\",autoCompleteType:\"email\",textContentType:\"emailAddress\",keyboardType:\"email-address\"}),React.createElement(Text,{style:styles.textsty},\"Catagory\"),React.createElement(RNPickerSelect,{onValueChange:function onValueChange(value){return setCatagory({value:value});},items:[{label:\"SERVER\",value:\"SERVER\"},{label:\"POWER\",value:\"POWER\"},{label:\"HARDWARE\",value:\"HARDWARE\"},{label:\"SOFTWERE\",value:\"SOFTWERE\"},{label:\"OS\",value:\"OS\"},{label:\"OTHERS\",value:\"OTHERS\"}]}),React.createElement(TextInput,{label:\"Description\",returnKeyType:\"next\",value:Description.value,onChangeText:function onChangeText(text){return setDescription({value:text});},autoCapitalize:\"none\"}),React.createElement(Button,{mode:\"contained\",onPress:function onPress(){return _onSubmmitPressed(_this3.state.data[0].Id[0]);},style:styles.button},\"UPDATE PRIORITY\"),React.createElement(Toast,{message:error,onDismiss:function onDismiss(){return setError(\"\");}}))));}}]);return Formreg;}(Component);export{Formreg as default};;var styles=StyleSheet.create({container:{},nodata:{fontSize:20,textAlign:\"center\",fontWeight:\"bold\",color:\"black\",padding:130}});","map":{"version":3,"sources":["/home/op-pro/Desktop/Finalyear project/Admin/src/screens/Formreg.js"],"names":["firebase","React","Component","useState","TextBase","Permissions","Card","Badge","Background","Header","RNPickerSelect","BackButton","Button","TextInput","Toast","emailValidator","FIREBASE_CONFIG","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","_onSubmmitPressed","Id","console","log","emailError","email","value","setEmail","error","date","Date","getDate","month","getMonth","year","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","DOS","SystemID","Catagory","Description","alert","Mail_Id","Status","System_Id","Counter1","loading","setLoading","setSystemId","setCatagory","PrimaryId","setPrimaryId","setDescription","setError","scanned","setScanned","handleBarCodeScanned","type","data","getCameraAsync","askAsync","CAMERA","status","permissions","Error","Formreg","state","priority","database","ref","once","snapshot","val","items","Object","values","setState","styles","container","undefined","StyleSheet","absoluteFillObject","text","textsty","label","button","create","nodata","fontSize","textAlign","fontWeight","color","padding"],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\nimport React, { Component,useState } from 'react';\nimport { TouchableOpacity,Alert, StyleSheet, Text, View,FlatList,Platform,ScrollView, TextBase} from \"react-native\";\n// Optionally import the services that you want to use\n//import \"firebase/auth\";\n//import \"firebase/database\";\n//import \"firebase/firestore\";\n//import \"firebase/functions\";\n//import \"firebase/storage\";\nimport * as Permissions from 'expo-permissions';\nimport { Card ,Badge} from 'react-native-elements';\nimport Background from '../components/Background';\nimport { Header } from 'react-native-elements';\nimport RNPickerSelect from 'react-native-picker-select';\nimport BackButton from \"../components/BackButton\";\nimport Button from \"../components/Button\";\nimport TextInput from \"../components/TextInput\"\nimport Toast from \"../components/Toast\";\nimport { emailValidator} from \"../core/utils\";\nimport FIREBASE_CONFIG from \"../core/config\"\n\n// Initialize Firebase\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",\n    authDomain: \"complaint-a4db2.firebaseapp.com\",\n    databaseURL: \"https://complaint-a4db2.firebaseio.com\",\n    projectId: \"complaint-a4db2\",\n    storageBucket: \"complaint-a4db2.appspot.com\",\n    messagingSenderId: \"966569668349\",\n    appId: \"1:966569668349:web:24e2908bf9f3b5ffd6d894\",\n    measurementId: \"G-VQXSNP4LCQ\"\n};\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\nfunction _onSubmmitPressed (Id){ \n  console.log(\"sumbmit pressed\")  \n  const emailError = emailValidator(email.value);\n  if (emailError) {\n    setEmail({ ...email, error: emailError });\n    return;\n  }\n  else{\n    var date = new Date().getDate(); //Current Date\n    var month = new Date().getMonth() + 1; //Current Month\n    var year = new Date().getFullYear(); //Current Year\n    var hours = new Date().getHours(); //Current Hours\n    var min = new Date().getMinutes(); //Current Minutes\n    var sec = new Date().getSeconds(); //Current Seconds\n    DOS=date +'/' + month + '/' + year + ' ' + hours + ':' + min + ':' + sec\n    console.log(\"Subbmited Values1: \",SystemID.value,Catagory.value,email.value,Description.value,Id)\n    alert(\"form is successfully submitted\")\n}\nCatagory:Catagory.value\nDOS:DOS\nDescription:Description\nId:Id\nMail_Id:email.value\nStatus:\"False\"\nSystem_Id:SystemID.value \n};\nfunction Counter1(){\nconst [loading, setLoading] = useState(false);\nconst [SystemID,setSystemId]=useState({value:\"\"});\nconst [Catagory, setCatagory] = useState({ value:\"\"});\nconst [PrimaryId, setPrimaryId] = useState({ value:\"\"});\nconst [email, setEmail] = useState({ value: \"\", error: \"\" });\nconst [Description, setDescription] = useState({ value: \"\"});\nconst [error, setError] = useState(\"\");\nconst [scanned, setScanned] = useState(false);\n}\nconst handleBarCodeScanned = ({ type, data }) => {\n  setScanned(true);\n  setSystemId({ value: data })\n}\nasync function getCameraAsync() {\n  // permissions returns only for location permissions on iOS and under certain conditions, see Permissions.LOCATION\n  const { status, permissions } = await Permissions.askAsync(Permissions.CAMERA);\n  if (status === 'granted') {\n    console.log(\"permission granted\")\n      } else {\n    throw new Error('Camera permission not granted');\n  }\n}\nexport default class Formreg extends Component {  \n  constructor(){\n    super();\n    this.state={\n      data:[],\n      priority:[]\n    }\n    Counter1()\n  }\n  componentDidMount(){\n       /* firebase.database().ref('Priority/').set({\n      1:Os.value,\n      2:Power.value,\n      3:Softwere.value,\n      4:Hardware.value,\n      5:Others.value\n    });\n*/\n\n\n\n    //const snapshot = await firebase.database().ref('Form/').orderByChild('priority_index').once('value');\n      //snapshot.forEach((snapshot) => {\n       //console.log('Users age:', snapshot.val().age);\n      //});\n\n      \n     firebase.database().ref('IssueInfo/').once('value', (snapshot)=> {\n      let data = snapshot.val();\n      var items = Object.values(data);\n         this.setState({\n           data:[...this.state.data,{Id:items}],\n         })\n\n      console.log(\"sucess: \",this.state.data,this.state.data.length)\n      console.log(\"sucess1: \",this.state.data[0].Id[0])\n   console.log(\"data stored\")\n    }); \n  }\n\n  \n  render(){\n    return (\n      <Background>\n  <ScrollView>\n        <Text>Scan the system Qr code</Text>\n        <View  style={styles.container}>\n        <BarCodeScanner\n          onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\n          style={StyleSheet.absoluteFillObject}\n        />\n        {scanned && <Button title={'Scan Again'} onPress={() => setScanned(false)} />}\n      </View>\n      <View>\n      <TextInput\n       label=\"Scanned Code\"\n       value={SystemID.value}\n      />\n      <TextInput\n       label=\"form Code\"\n       value={PrimaryId.value}\n      />\n      <TextInput\n        label=\"Email\"\n        returnKeyType=\"next\"\n        value={email.value}\n        onChangeText={text => setEmail({ value: text, error: \"\" })}\n        error={!!email.error}\n        errorText={email.error}\n        autoCapitalize=\"none\"\n        autoCompleteType=\"email\"\n        textContentType=\"emailAddress\"\n        keyboardType=\"email-address\"\n      />\n      <Text style={styles.textsty}>Catagory</Text>\n<RNPickerSelect\n            onValueChange={(value) => setCatagory({value})}\n            items={[\n            {label : \"SERVER\", value : \"SERVER\" },\n               {label : \"POWER\", value : \"POWER\"},\n               {label : \"HARDWARE\", value : \"HARDWARE\" },\n               {label : \"SOFTWERE\" ,value : \"SOFTWERE\" },\n               {label : \"OS\" ,value : \"OS\"},\n               {label :\"OTHERS\",value:\"OTHERS\"}\n            ]}\n        ></RNPickerSelect>\n\n      <TextInput\n        label=\"Description\"\n        returnKeyType=\"next\"\n        value={Description.value}\n        onChangeText={text => setDescription({ value: text})}\n        autoCapitalize=\"none\"\n      />\n      <Button\n        mode=\"contained\"\n        onPress={()=>_onSubmmitPressed(this.state.data[0].Id[0])}\n        style={styles.button}\n      >\n        UPDATE PRIORITY\n      </Button>\n      <Toast message={error} onDismiss={() => setError(\"\")} />\n</View>\n      </ScrollView>\n      </Background>\n  );\n  } \n};\nconst styles = StyleSheet.create({\n  container: {\n  },\n  nodata:{\n    fontSize:20,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"black\",\n    padding: 130\n  \n  }\n});"]},"metadata":{},"sourceType":"module"}