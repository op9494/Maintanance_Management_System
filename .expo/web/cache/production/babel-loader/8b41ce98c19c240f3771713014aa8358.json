{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import*as firebase from'firebase';import React,{Component,useState}from'react';import Button from\"../components/Button\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Platform from\"react-native-web/dist/exports/Platform\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{TextBase}from\"react-native-web/dist/index\";import{Userlo}from\"./AuthLoadingScreen\";import{ListItem,Overlay}from'react-native-elements';import{string}from'prop-types';var firebaseConfig={apiKey:\"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",authDomain:\"complaint-a4db2.firebaseapp.com\",databaseURL:\"https://complaint-a4db2.firebaseio.com\",projectId:\"complaint-a4db2\",storageBucket:\"complaint-a4db2.appspot.com\",messagingSenderId:\"966569668349\",appId:\"1:966569668349:web:24e2908bf9f3b5ffd6d894\",measurementId:\"G-VQXSNP4LCQ\"};if(!firebase.apps.length){firebase.initializeApp(firebaseConfig);}function onproceed(user_id,form_id){console.log(\"current process\",user_id);Addjob(user_id,form_id);firebase.database().ref('Form/'+form_id).update({Status:\"Processing\"});console.log(\"Success\");}function Addjob(id,f_id){console.log(\"adding job1\");console.log(id,f_id);firebase.database().ref('Memberjobs/'+id).update({Job:f_id});console.log(\"job updated\");}function infoFloat(id){var uid=Userlo();console.log(\"entering into alert\",uid);firebase.database().ref('Form/'+id).on('value',function(snapshot){var data=snapshot.val();var items=Object.values(data);Alert.alert('Details of an Form Id:'+items[3],'System ID  :'+items[6]+\"\\n\"+'Catagory    :'+items[0]+\"\\n\"+'DOS            :'+items[1]+\"\\n\"+'Description:'+'\\n'+'\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'+items[2]+\"\\n\\n\"+'\\b**On proceed the You are taking the responsiblity to resolve issue**'+'\\n'+'**To know the system Location check the system finder in an dashboard**',[{text:'Cancel',onPress:function onPress(){return console.log('Cancel Pressed');},style:'cancel'},{text:'Proceed',onPress:function onPress(){return onproceed(uid,items[3]);}}],{cancelable:false});});}var Dblist=function(_Component){_inherits(Dblist,_Component);function Dblist(){var _this;_classCallCheck(this,Dblist);_this=_possibleConstructorReturn(this,_getPrototypeOf(Dblist).call(this));_this.state={data:[],priority:[]};return _this;}_createClass(Dblist,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;firebase.database().ref('Priority/').once('value',function(snapshot){var pdata=snapshot.val();var pitems=Object.values(pdata);for(var i=0;i<pitems.length;i++){_this2.setState({priority:[].concat(_toConsumableArray(_this2.state.priority),[pitems[i]])});}console.log(\"Priority: \",_this2.state.priority,_this2.state.priority.length);});firebase.database().ref('Form/').once('value',function(snapshot){var rdata=snapshot.val();var ritems=Object.values(rdata);for(var i=0;i<ritems.length;i++){console.log(\"comparing\",ritems[i].Catagory,_this2.state.priority[0]);if(ritems[i].Catagory==_this2.state.priority[0]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"1\"});}else if(ritems[i].Catagory==_this2.state.priority[1]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"2\"});}else if(ritems[i].Catagory==_this2.state.priority[2]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"3\"});}else if(ritems[i].Catagory==_this2.state.priority[3]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"4\"});}else if(ritems[i].Catagory==_this2.state.priority[4]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"5\"});}else if(ritems[i].Catagory==_this2.state.priority[5]){firebase.database().ref('Form/'+ritems[i].Id).update({Zprindex:\"6\"});}}});firebase.database().ref('Form/').once('value',function(snapshot){var data=snapshot.val();var items=Object.values(data);for(var i=0;i<items.length;i++){console.log(\"item\",i,items[i].Catagory);if(items[i].Status==\"False\"){_this2.setState({data:[].concat(_toConsumableArray(_this2.state.data),[{Id:items[i]}])});}}console.log(\"sucess: \",_this2.state.data,_this2.state.data.length);console.log(\"data stored\");});}},{key:\"render\",value:function render(){return React.createElement(View,{style:styles.container},this.state.data.length>0?this.state.data.map(function(item,i){return React.createElement(ListItem,{topDivider:true,key:i,title:item.Id.Id,subtitle:item.Id.Catagory,leftIcon:{name:'av-timer'},bottomDivider:true,onPress:function onPress(){return infoFloat(item.Id.Id);},chevron:true});}):React.createElement(Text,{style:styles.nodata},\"No data found\"));}}]);return Dblist;}(Component);export{Dblist as default};;var styles=StyleSheet.create({container:{},nodata:{fontSize:20,textAlign:\"center\",fontWeight:\"bold\",color:\"black\",padding:130}});","map":{"version":3,"sources":["/home/op-pro/Desktop/Finalyear project/Admin/src/screens/Dblist.js"],"names":["firebase","React","Component","useState","Button","TextBase","Userlo","ListItem","Overlay","string","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","onproceed","user_id","form_id","console","log","Addjob","database","ref","update","Status","id","f_id","Job","infoFloat","uid","on","snapshot","data","val","items","Object","values","Alert","alert","text","onPress","style","cancelable","Dblist","state","priority","once","pdata","pitems","i","setState","rdata","ritems","Catagory","Id","Zprindex","styles","container","map","item","name","nodata","StyleSheet","create","fontSize","textAlign","fontWeight","color","padding"],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\nimport React, { Component,useState } from 'react';\nimport Button from \"../components/Button\";\nimport { TouchableOpacity,Alert, StyleSheet, Text, View,FlatList,Platform,ScrollView, TextBase} from \"react-native\";\n// Optionally import the services that you want to use\n//import \"firebase/auth\";\n//import \"firebase/database\";\n//import \"firebase/firestore\";\n//import \"firebase/functions\";\n//import \"firebase/storage\";\nimport {Userlo} from \"./AuthLoadingScreen\";\nimport { ListItem,Overlay } from 'react-native-elements'\nimport { string } from 'prop-types';\n\n// Initialize Firebase\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDslHhZc8QSFrsonWJlsvBXBm3vesReV84\",\n    authDomain: \"complaint-a4db2.firebaseapp.com\",\n    databaseURL: \"https://complaint-a4db2.firebaseio.com\",\n    projectId: \"complaint-a4db2\",\n    storageBucket: \"complaint-a4db2.appspot.com\",\n    messagingSenderId: \"966569668349\",\n    appId: \"1:966569668349:web:24e2908bf9f3b5ffd6d894\",\n    measurementId: \"G-VQXSNP4LCQ\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\n \nfunction onproceed(user_id,form_id){\n  console.log(\"current process\",user_id)\n  Addjob(user_id,form_id)\n  firebase.database().ref('Form/'+form_id).update({\n    Status:\"Processing\",\n  });\n  console.log(\"Success\")\n}\n\nfunction Addjob(id,f_id) {\n  console.log(\"adding job1\")\n  console.log(id,f_id)\n  firebase.database().ref('Memberjobs/'+id).update({\n    Job: f_id,\n    })\n  console.log(\"job updated\")\n}\n\nfunction infoFloat(id){\n  const uid=Userlo()\n  console.log(\"entering into alert\",uid)\n  firebase.database().ref('Form/'+id).on('value', (snapshot)=> {\n    let data = snapshot.val();\n    var items = Object.values(data);\n    Alert.alert(\n      'Details of an Form Id:'+items[3],\n      'System ID  :'+items[6]+\"\\n\"+'Catagory    :'+items[0]+\"\\n\"+'DOS            :'+items[1]+\"\\n\"+'Description:'+'\\n'+'\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'+items[2]+\"\\n\\n\"+'\\b**On proceed the You are taking the responsiblity to resolve issue**'+'\\n'+'**To know the system Location check the system finder in an dashboard**',      \n\n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        { text: 'Proceed', onPress: () => onproceed(uid,items[3])},\n        \n      ],\n      { cancelable: false }\n    );\n  }); \n}\nexport default class Dblist extends Component {  \n  constructor(){\n    super();\n    this.state={\n      data:[],\n      priority:[]\n    }\n  }\n  \n  componentDidMount(){\n    firebase.database().ref('Priority/').once('value', (snapshot)=> {\n      let pdata = snapshot.val();\n      var pitems = Object.values(pdata);\n//      console.log(\"object javascript\");\n     for(let i=0;i<pitems.length;i++){\n  //     console.log(\"pitem\",i,pitems[i])\n        this.setState({\n          priority:[...this.state.priority,pitems[i]],\n        })\n      }\n      console.log(\"Priority: \",this.state.priority,this.state.priority.length)\n    });\n   \n    firebase.database().ref('Form/').once('value', (snapshot)=> {\n      let rdata = snapshot.val();\n      var ritems = Object.values(rdata);\n//      console.log(\"object javascript\");\n     for(let i=0;i<ritems.length;i++){\n       console.log(\"comparing\",ritems[i].Catagory,this.state.priority[0])\n         if (ritems[i].Catagory==this.state.priority[0]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"1\"\n          });\n         }\n         else if(ritems[i].Catagory==this.state.priority[1]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"2\"\n          });\n         }\n         else if(ritems[i].Catagory==this.state.priority[2]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"3\"\n          });\n        }else if(ritems[i].Catagory==this.state.priority[3]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"4\"\n          });\n        }else if(ritems[i].Catagory==this.state.priority[4]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"5\"\n          });\n        }\n        else if(ritems[i].Catagory==this.state.priority[5]){\n          firebase.database().ref('Form/'+ritems[i].Id).update({\n            Zprindex:\"6\"\n          });\n\n        }\n      }\n    });\n   /* firebase.database().ref('Priority/').set({\n      1:Os.value,\n      2:Power.value,\n      3:Softwere.value,\n      4:Hardware.value,\n      5:Others.value\n    });\n*/\n\n\n\n    //const snapshot = await firebase.database().ref('Form/').orderByChild('priority_index').once('value');\n      //snapshot.forEach((snapshot) => {\n       //console.log('Users age:', snapshot.val().age);\n      //});\n\n      \n     firebase.database().ref('Form/').once('value', (snapshot)=> {\n      let data = snapshot.val();\n      var items = Object.values(data);\n    \n     for(let i=0;i<items.length;i++){\n       console.log(\"item\",i,items[i].Catagory)\n       if(items[i].Status==\"False\"){\n        this.setState({\n          data:[...this.state.data,{Id:items[i]}],\n        })\n      }\n      }\n\n      console.log(\"sucess: \",this.state.data,this.state.data.length)\n   console.log(\"data stored\")\n    }); \n    \n  }\n  \n  render(){\n    \n    return (\n\n    <View  style={styles.container}>\n    {this.state.data.length > 0 ? \n    this.state.data.map((item, i) => (\n      <ListItem \n        topDivider\n        key={i}\n        title={item.Id.Id}\n        subtitle={item.Id.Catagory}\n        leftIcon={{name:'av-timer'}}\n        bottomDivider\n        onPress={()=>infoFloat(item.Id.Id)}\n        chevron\n      />\n    )):\n    <Text style={styles.nodata}>No data found</Text>\n     }\n  </View>\n  );\n  } \n};\nconst styles = StyleSheet.create({\n  container: {\n  },\n  nodata:{\n    fontSize:20,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"black\",\n    padding: 130\n  \n  }\n});"]},"metadata":{},"sourceType":"module"}